{"file":"cm-dropdown2.js","mappings":"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","names":[],"sources":["src/components/cm-dropdown/cm-dropdown.css?tag=cm-dropdown&encapsulation=scoped","src/components/cm-dropdown/cm-dropdown.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n  width: 100%;\r\n  position: relative;\r\n  max-width: 450px;\r\n}\r\n\r\nul,\r\nli,\r\ndiv,\r\nbutton {\r\n  all: unset;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.search-container {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  padding: 10px;\r\n  margin-bottom: 5px;\r\n  border-bottom: 1px solid hsl(var(--border));\r\n  position: relative;\r\n  z-index: 2000;\r\n  width: 100%;\r\n  height: 40px;\r\n}\r\n\r\n.combobox-trigger {\r\n  width: 100%;\r\n  border-radius: var(--radius);\r\n  border: 1px solid hsl(var(--border));\r\n  display: inline-flex;\r\n  align-items: center;\r\n  padding: 0 15px;\r\n  justify-content: space-between;\r\n  font-size: 13px;\r\n  line-height: 1;\r\n  height: 35px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.combobox-trigger:focus,\r\n.combobox-trigger:active {\r\n  box-shadow: 0 0 1px 1px hsl(var(--ring));\r\n}\r\n\r\n.combobox-item {\r\n  font-size: 13px;\r\n  line-height: 1;\r\n  color: hsl(var(--foreground));\r\n  border-radius: 3px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 25px;\r\n  padding: 0 35px 0 25px;\r\n  -webkit-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.combobox-item[data-highlighted='true'] {\r\n  background-color: hsl(var(--primary));\r\n  color: hsl(var(--primary-foreground));\r\n}\r\n.combobox-item[data-disabled] {\r\n  color: hsla(var(--foreground), 0.6);\r\n}\r\n\r\ninput {\r\n  flex: 1;\r\n  overflow: hidden;\r\n  background: hsl(var(--background));\r\n  border: 0;\r\n  color: hsl(var(--foreground));\r\n}\r\n\r\ninput:focus {\r\n  outline: none;\r\n}\r\n\r\n.combobox-content {\r\n  opacity: 0;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  z-index: 100000;\r\n  background-color: hsl(var(--background));\r\n  border-radius: var(--radius);\r\n  width: 100%;\r\n  border: 1px solid hsl(var(--border));\r\n  box-shadow: 0 10px 38px -10px rgba(22, 23, 24, 0.35), 0 10px 20px -15px rgba(22, 23, 24, 0.2);\r\n}\r\n\r\n.combobox-viewport {\r\n  padding: 0 5px;\r\n}\r\n\r\n.combobox-content[data-visibility='show'],\r\n.combobox-content[data-visibility='hide'] {\r\n  animation-duration: 100ms;\r\n  animation-timing-function: ease-in-out;\r\n  animation-fill-mode: forwards;\r\n}\r\n\r\n.combobox-content[data-visibility='show'] {\r\n  animation-name: fadeIn;\r\n}\r\n\r\n.combobox-content[data-visibility='hide'] {\r\n  animation-name: fadeOut;\r\n}\r\n\r\n.combobox-content[data-position='above'] {\r\n  bottom: 40px;\r\n  left: 0;\r\n}\r\n\r\n.combobox-content[data-position='below'] {\r\n  top: 40px;\r\n  left: 0;\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes fadeOut {\r\n  from {\r\n    opacity: 1;\r\n  }\r\n  to {\r\n    opacity: 0;\r\n  }\r\n}\r\n","import { Component, Host, h, Prop, State, Element, EventEmitter, Event, Listen, Fragment } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'cm-dropdown',\r\n  styleUrl: 'cm-dropdown.css',\r\n  scoped: true,\r\n})\r\nexport class CmDropdown {\r\n  @Prop({ reflect: true }) itemNames: IItems[] = [\r\n    { item: 'Settings' },\r\n    { item: 'Profile' },\r\n    { item: 'Notifications', disabled: true },\r\n    { item: 'Messages' },\r\n    { item: 'Support', disabled: true },\r\n    { item: 'Account' },\r\n    { item: 'Dashboard' },\r\n    { item: 'Logout' },\r\n    { item: 'Help' },\r\n    { item: 'Feedback' },\r\n  ];\r\n  @Prop({ reflect: true, mutable: true }) rtl: boolean = false;\r\n  @Prop({ reflect: true }) search: boolean = true;\r\n  @Prop({ reflect: true }) dropdownTitle: string = 'Toggle DropDown';\r\n  @State() isDropdownVisible: boolean = false;\r\n  @State() searchQuery: string = '';\r\n  @State() selectedItemName: string = '';\r\n  @State() currentHighlightedIndex: number = -1;\r\n  @State() filteredItemNames: IItems[] = this.itemNames;\r\n  @Element() el: HTMLElement;\r\n  @Event({ bubbles: true, composed: true }) itemClick: EventEmitter<string>;\r\n  private searchTimeout: any;\r\n  private buttonRef: HTMLButtonElement;\r\n  private dropdownContainer: HTMLDivElement;\r\n  private inputRef: HTMLInputElement;\r\n  componentWillLoad() {\r\n    this.filteredItemNames = [...this.itemNames];\r\n  }\r\n  addFocusToButton() {\r\n    this.buttonRef?.focus();\r\n  }\r\n  componentDidLoad() {\r\n    this.updateListFocus();\r\n    this.detectRTLContext();\r\n  }\r\n  detectRTLContext() {\r\n    const direction = getComputedStyle(this.el).direction;\r\n    this.rtl = direction === 'rtl';\r\n  }\r\n  @Listen('click', { target: 'document' })\r\n  handleDocumentClick(event: MouseEvent) {\r\n    const target = event.target as HTMLElement;\r\n    if (!this.el.contains(target)) {\r\n      this.isDropdownVisible = false;\r\n    }\r\n  }\r\n\r\n  updateListFocus() {\r\n    if (this.isDropdownVisible) {\r\n      let list = this.el.querySelector('.combobox-viewport') as HTMLUListElement;\r\n      list?.focus();\r\n    }\r\n  }\r\n\r\n  onMouseOver(index: number) {\r\n    this.currentHighlightedIndex = index;\r\n  }\r\n  handleSearch() {\r\n    clearTimeout(this.searchTimeout);\r\n    this.searchTimeout = setTimeout(() => {\r\n      this.filteredItemNames = this.itemNames.filter(item => item.item.toLowerCase().includes(this.searchQuery.toLowerCase()));\r\n    }, 100);\r\n    if (this.searchQuery === '') {\r\n      this.filteredItemNames = [...this.itemNames];\r\n    }\r\n  }\r\n  onKeyDown(event: KeyboardEvent) {\r\n    this.handleNavigation(event);\r\n  }\r\n  handleInputKeyDown(event) {\r\n    if (event.key === 'ArrowDown') {\r\n      event.preventDefault();\r\n      if (this.filteredItemNames.length > 0) {\r\n        setTimeout(() => {\r\n          this.updateListFocus();\r\n        }, 20);\r\n        this.currentHighlightedIndex = 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  handleNavigation(event: KeyboardEvent) {\r\n    const itemCount = this.filteredItemNames.length;\r\n    let newIndex = this.currentHighlightedIndex;\r\n\r\n    switch (event.key) {\r\n      case 'ArrowDown':\r\n        newIndex = (newIndex + 1) % itemCount;\r\n        if (this.filteredItemNames[newIndex].disabled) {\r\n          newIndex = (newIndex + 1) % itemCount;\r\n        }\r\n        break;\r\n      case 'ArrowUp':\r\n        newIndex = (newIndex - 1 + itemCount) % itemCount;\r\n        if (this.filteredItemNames[newIndex].disabled) {\r\n          newIndex = (newIndex - 1 + itemCount) % itemCount;\r\n        }\r\n        break;\r\n      case 'Enter':\r\n      case ' ':\r\n        this.onItemClick();\r\n        break;\r\n      case 'Escape':\r\n        this.toggleDropdown();\r\n        break;\r\n    }\r\n    this.currentHighlightedIndex = newIndex;\r\n    event.preventDefault();\r\n  }\r\n  onItemClick() {\r\n    const selectedItem = this.filteredItemNames[this.currentHighlightedIndex];\r\n    this.itemClick.emit(selectedItem.item);\r\n    this.selectedItemName = selectedItem.item;\r\n    this.toggleDropdown();\r\n  }\r\n\r\n  onMouseLeave() {\r\n    this.currentHighlightedIndex = -1;\r\n  }\r\n  toggleDropdown() {\r\n    if (!this.isDropdownVisible) {\r\n      this.isDropdownVisible = true;\r\n      this.calculateDropdownPosition();\r\n      this.buttonRef.blur();\r\n      setTimeout(() => {\r\n        this.updateListFocus();\r\n      }, 50);\r\n    } else {\r\n      this.isDropdownVisible = false;\r\n      this.addFocusToButton();\r\n      if (this.searchQuery !== '') {\r\n        this.searchQuery = '';\r\n        this.filteredItemNames = [...this.itemNames];\r\n      }\r\n    }\r\n  }\r\n\r\n  calculateDropdownPosition() {\r\n    const buttonRect = this.el.getBoundingClientRect();\r\n    const viewportHeight = window.innerHeight;\r\n\r\n    const spaceAbove = buttonRect.top;\r\n    const spaceBelow = viewportHeight - buttonRect.bottom;\r\n\r\n    const dropdownHeight = 200;\r\n    if (spaceBelow >= dropdownHeight || spaceBelow > spaceAbove) {\r\n      this.dropdownContainer.setAttribute('data-position', 'below');\r\n    } else {\r\n      this.dropdownContainer.setAttribute('data-position', 'above');\r\n    }\r\n  }\r\n  renderItem(item: IItems, index: number) {\r\n    return (\r\n      <li\r\n        data-disabled={item.disabled}\r\n        data-highlighted={this.currentHighlightedIndex === index ? 'true' : 'false'}\r\n        class={'combobox-item'}\r\n        tabIndex={index}\r\n        onMouseOver={() => {\r\n          if (!item.disabled) {\r\n            this.onMouseOver(index);\r\n          }\r\n        }}\r\n        onClick={() => {\r\n          if (!item.disabled) {\r\n            this.onItemClick();\r\n          }\r\n        }}\r\n      >\r\n        {item.item}\r\n        {this.selectedItemName === item.item && (\r\n          <svg width=\"15\" height=\"15\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path\r\n              d=\"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z\"\r\n              fill=\"currentColor\"\r\n              fill-rule=\"evenodd\"\r\n              clip-rule=\"evenodd\"\r\n            ></path>\r\n          </svg>\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n\r\n  renderButtonName() {\r\n    if (this.selectedItemName !== '') {\r\n      return this.selectedItemName;\r\n    }\r\n    return this.dropdownTitle;\r\n  }\r\n  handleChange(event) {\r\n    this.searchQuery = event.target.value;\r\n    this.handleSearch();\r\n    this.inputRef.addEventListener('keydown', this.handleInputKeyDown.bind(this));\r\n  }\r\n  handleButtonKeyDown(event: KeyboardEvent) {\r\n    if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {\r\n      event.preventDefault();\r\n      this.toggleDropdown();\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <button\r\n          ref={el => (this.buttonRef = el)}\r\n          type=\"button\"\r\n          onKeyDown={event => this.handleButtonKeyDown(event)}\r\n          class={'combobox-trigger'}\r\n          onClick={() => this.toggleDropdown()}\r\n        >\r\n          {this.renderButtonName()}\r\n\r\n          <svg width=\"15\" height=\"15\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path\r\n              d=\"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z\"\r\n              fill=\"currentColor\"\r\n              fill-rule=\"evenodd\"\r\n              clip-rule=\"evenodd\"\r\n            ></path>\r\n          </svg>\r\n        </button>\r\n        <div ref={el => (this.dropdownContainer = el)} data-visibility={this.isDropdownVisible ? 'show' : 'hide'} class={'combobox-content'}>\r\n          {this.isDropdownVisible && (\r\n            <Fragment>\r\n              {this.search && (\r\n                <div class=\"search-container\">\r\n                  <svg width=\"15\" height=\"15\" viewBox=\"0 0 15 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path\r\n                      d=\"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z\"\r\n                      fill=\"currentColor\"\r\n                      fill-rule=\"evenodd\"\r\n                      clip-rule=\"evenodd\"\r\n                    ></path>\r\n                  </svg>\r\n\r\n                  <input\r\n                    autoFocus={true}\r\n                    onBlur={() => this.updateListFocus()}\r\n                    ref={el => (this.inputRef = el)}\r\n                    id=\"drp-search\"\r\n                    type=\"text\"\r\n                    placeholder=\"Search\"\r\n                    value={this.searchQuery}\r\n                    onInput={event => this.handleChange(event)}\r\n                  />\r\n                </div>\r\n              )}\r\n              {this.filteredItemNames.length > 0 ? (\r\n                <ul class={'combobox-viewport'} tabindex=\"0\" onKeyDown={event => this.onKeyDown(event)} onMouseLeave={() => this.onMouseLeave()}>\r\n                  {this.filteredItemNames.map((name, index) => this.renderItem(name, index))}\r\n                </ul>\r\n              ) : (\r\n                <p data-disabled={true} class=\"combobox-item\">\r\n                  No result found\r\n                </p>\r\n              )}\r\n            </Fragment>\r\n          )}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}